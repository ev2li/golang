# <center><font color="#006666">锁</font></center>
## __<font color="#006666">死锁</font>__
- 单go程自己死锁(又读又写)
- go程间channel间访问导致的死锁(访问的顺序)
- 多go程多channel交叉死锁(A:吃着碗里的看着锅里的 B:吃着锅里的看着碗里的)
- 在go语言中尽量不要将互斥锁读写锁与channel混用--- 隐性死锁

## __<font color="#006666">互斥锁</font>__
- 建议锁:os提供,建议在编程时使用
- sync.Mutex
- 访问共享数据之前加锁,访问完成之后解锁

## __<font color="#006666">读写锁</font>__
- sync.RWMutex
- 写锁优先级高

## __<font color="#006666">条件变量</font>__
- 本身不是锁，但经常和锁结合使用
- 消费者：
  - 判断条件变量
  - 加锁
  - 访问公共区
  - 解锁
  - 唤醒阻塞在条件变量上的对端

## __<font color="#006666">常用的函数</font>__
- Wait
  - 阻塞等待条件变量满足
  - 释放已掌握的互斥锁相当于cond.L.Unlock()，注意两步是一个原子操作
  - 当被唤醒，Wait()函数返回时，解除阻塞并重新获取互斥锁,相当于cond.L.Lock()
- Signal
  - 单发通知，给一人正在等待(阻塞)在该条件变量上的goroutine(线程)发送通知
- Broadcast
  - 广播通知，给正在等待(阻塞)在该条件变量上的所有goroutine(线程)发送通知